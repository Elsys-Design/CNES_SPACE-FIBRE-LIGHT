`include "B_HBM_PHY_MS_defines.vh"

reg [`HBM_PHY_MS_DATA_SZ-1:0] ATTR [0:`HBM_PHY_MS_ADDR_N-1];
reg [`HBM_PHY_MS__CFG0_SZ-1:0] CFG0_REG = CFG0;
reg [`HBM_PHY_MS__CFG1_SZ-1:0] CFG1_REG = CFG1;
reg [`HBM_PHY_MS__CFG10_SZ-1:0] CFG10_REG = CFG10;
reg [`HBM_PHY_MS__CFG11_SZ-1:0] CFG11_REG = CFG11;
reg [`HBM_PHY_MS__CFG12_SZ-1:0] CFG12_REG = CFG12;
reg [`HBM_PHY_MS__CFG13_SZ-1:0] CFG13_REG = CFG13;
reg [`HBM_PHY_MS__CFG14_SZ-1:0] CFG14_REG = CFG14;
reg [`HBM_PHY_MS__CFG15_SZ-1:0] CFG15_REG = CFG15;
reg [`HBM_PHY_MS__CFG16_SZ-1:0] CFG16_REG = CFG16;
reg [`HBM_PHY_MS__CFG17_SZ-1:0] CFG17_REG = CFG17;
reg [`HBM_PHY_MS__CFG18_SZ-1:0] CFG18_REG = CFG18;
reg [`HBM_PHY_MS__CFG19_SZ-1:0] CFG19_REG = CFG19;
reg [`HBM_PHY_MS__CFG2_SZ-1:0] CFG2_REG = CFG2;
reg [`HBM_PHY_MS__CFG20_SZ-1:0] CFG20_REG = CFG20;
reg [`HBM_PHY_MS__CFG21_SZ-1:0] CFG21_REG = CFG21;
reg [`HBM_PHY_MS__CFG22_SZ-1:0] CFG22_REG = CFG22;
reg [`HBM_PHY_MS__CFG23_SZ-1:0] CFG23_REG = CFG23;
reg [`HBM_PHY_MS__CFG24_SZ-1:0] CFG24_REG = CFG24;
reg [`HBM_PHY_MS__CFG25_SZ-1:0] CFG25_REG = CFG25;
reg [`HBM_PHY_MS__CFG26_SZ-1:0] CFG26_REG = CFG26;
reg [`HBM_PHY_MS__CFG27_SZ-1:0] CFG27_REG = CFG27;
reg [`HBM_PHY_MS__CFG28_SZ-1:0] CFG28_REG = CFG28;
reg [`HBM_PHY_MS__CFG29_SZ-1:0] CFG29_REG = CFG29;
reg [`HBM_PHY_MS__CFG3_SZ-1:0] CFG3_REG = CFG3;
reg [`HBM_PHY_MS__CFG31_SZ-1:0] CFG31_REG = CFG31;
reg [`HBM_PHY_MS__CFG32_SZ-1:0] CFG32_REG = CFG32;
reg [`HBM_PHY_MS__CFG33_SZ-1:0] CFG33_REG = CFG33;
reg [`HBM_PHY_MS__CFG34_SZ-1:0] CFG34_REG = CFG34;
reg [`HBM_PHY_MS__CFG35_SZ-1:0] CFG35_REG = CFG35;
reg [`HBM_PHY_MS__CFG36_SZ-1:0] CFG36_REG = CFG36;
reg [`HBM_PHY_MS__CFG37_SZ-1:0] CFG37_REG = CFG37;
reg [`HBM_PHY_MS__CFG38_SZ-1:0] CFG38_REG = CFG38;
reg [`HBM_PHY_MS__CFG39_SZ-1:0] CFG39_REG = CFG39;
reg [`HBM_PHY_MS__CFG4_SZ-1:0] CFG4_REG = CFG4;
reg [`HBM_PHY_MS__CFG40_SZ-1:0] CFG40_REG = CFG40;
reg [`HBM_PHY_MS__CFG41_SZ-1:0] CFG41_REG = CFG41;
reg [`HBM_PHY_MS__CFG42_SZ-1:0] CFG42_REG = CFG42;
reg [`HBM_PHY_MS__CFG5_SZ-1:0] CFG5_REG = CFG5;
reg [`HBM_PHY_MS__CFG6_SZ-1:0] CFG6_REG = CFG6;
reg [`HBM_PHY_MS__CFG7_SZ-1:0] CFG7_REG = CFG7;
reg [`HBM_PHY_MS__CFG8_SZ-1:0] CFG8_REG = CFG8;
reg [`HBM_PHY_MS__CFG9_SZ-1:0] CFG9_REG = CFG9;
reg [`HBM_PHY_MS__SIM_MODEL_TYPE_SZ:1] SIM_MODEL_TYPE_REG = SIM_MODEL_TYPE;

initial begin
  ATTR[`HBM_PHY_MS__CFG0] = CFG0;
  ATTR[`HBM_PHY_MS__CFG10] = CFG10;
  ATTR[`HBM_PHY_MS__CFG11] = CFG11;
  ATTR[`HBM_PHY_MS__CFG12] = CFG12;
  ATTR[`HBM_PHY_MS__CFG13] = CFG13;
  ATTR[`HBM_PHY_MS__CFG14] = CFG14;
  ATTR[`HBM_PHY_MS__CFG15] = CFG15;
  ATTR[`HBM_PHY_MS__CFG16] = CFG16;
  ATTR[`HBM_PHY_MS__CFG17] = CFG17;
  ATTR[`HBM_PHY_MS__CFG18] = CFG18;
  ATTR[`HBM_PHY_MS__CFG19] = CFG19;
  ATTR[`HBM_PHY_MS__CFG1] = CFG1;
  ATTR[`HBM_PHY_MS__CFG20] = CFG20;
  ATTR[`HBM_PHY_MS__CFG21] = CFG21;
  ATTR[`HBM_PHY_MS__CFG22] = CFG22;
  ATTR[`HBM_PHY_MS__CFG23] = CFG23;
  ATTR[`HBM_PHY_MS__CFG24] = CFG24;
  ATTR[`HBM_PHY_MS__CFG25] = CFG25;
  ATTR[`HBM_PHY_MS__CFG26] = CFG26;
  ATTR[`HBM_PHY_MS__CFG27] = CFG27;
  ATTR[`HBM_PHY_MS__CFG28] = CFG28;
  ATTR[`HBM_PHY_MS__CFG29] = CFG29;
  ATTR[`HBM_PHY_MS__CFG2] = CFG2;
  ATTR[`HBM_PHY_MS__CFG31] = CFG31;
  ATTR[`HBM_PHY_MS__CFG32] = CFG32;
  ATTR[`HBM_PHY_MS__CFG33] = CFG33;
  ATTR[`HBM_PHY_MS__CFG34] = CFG34;
  ATTR[`HBM_PHY_MS__CFG35] = CFG35;
  ATTR[`HBM_PHY_MS__CFG36] = CFG36;
  ATTR[`HBM_PHY_MS__CFG37] = CFG37;
  ATTR[`HBM_PHY_MS__CFG38] = CFG38;
  ATTR[`HBM_PHY_MS__CFG39] = CFG39;
  ATTR[`HBM_PHY_MS__CFG3] = CFG3;
  ATTR[`HBM_PHY_MS__CFG40] = CFG40;
  ATTR[`HBM_PHY_MS__CFG41] = CFG41;
  ATTR[`HBM_PHY_MS__CFG42] = CFG42;
  ATTR[`HBM_PHY_MS__CFG4] = CFG4;
  ATTR[`HBM_PHY_MS__CFG5] = CFG5;
  ATTR[`HBM_PHY_MS__CFG6] = CFG6;
  ATTR[`HBM_PHY_MS__CFG7] = CFG7;
  ATTR[`HBM_PHY_MS__CFG8] = CFG8;
  ATTR[`HBM_PHY_MS__CFG9] = CFG9;
  ATTR[`HBM_PHY_MS__SIM_MODEL_TYPE] = SIM_MODEL_TYPE;
end

always @(trig_attr) begin
  CFG0_REG = ATTR[`HBM_PHY_MS__CFG0];
  CFG10_REG = ATTR[`HBM_PHY_MS__CFG10];
  CFG11_REG = ATTR[`HBM_PHY_MS__CFG11];
  CFG12_REG = ATTR[`HBM_PHY_MS__CFG12];
  CFG13_REG = ATTR[`HBM_PHY_MS__CFG13];
  CFG14_REG = ATTR[`HBM_PHY_MS__CFG14];
  CFG15_REG = ATTR[`HBM_PHY_MS__CFG15];
  CFG16_REG = ATTR[`HBM_PHY_MS__CFG16];
  CFG17_REG = ATTR[`HBM_PHY_MS__CFG17];
  CFG18_REG = ATTR[`HBM_PHY_MS__CFG18];
  CFG19_REG = ATTR[`HBM_PHY_MS__CFG19];
  CFG1_REG = ATTR[`HBM_PHY_MS__CFG1];
  CFG20_REG = ATTR[`HBM_PHY_MS__CFG20];
  CFG21_REG = ATTR[`HBM_PHY_MS__CFG21];
  CFG22_REG = ATTR[`HBM_PHY_MS__CFG22];
  CFG23_REG = ATTR[`HBM_PHY_MS__CFG23];
  CFG24_REG = ATTR[`HBM_PHY_MS__CFG24];
  CFG25_REG = ATTR[`HBM_PHY_MS__CFG25];
  CFG26_REG = ATTR[`HBM_PHY_MS__CFG26];
  CFG27_REG = ATTR[`HBM_PHY_MS__CFG27];
  CFG28_REG = ATTR[`HBM_PHY_MS__CFG28];
  CFG29_REG = ATTR[`HBM_PHY_MS__CFG29];
  CFG2_REG = ATTR[`HBM_PHY_MS__CFG2];
  CFG31_REG = ATTR[`HBM_PHY_MS__CFG31];
  CFG32_REG = ATTR[`HBM_PHY_MS__CFG32];
  CFG33_REG = ATTR[`HBM_PHY_MS__CFG33];
  CFG34_REG = ATTR[`HBM_PHY_MS__CFG34];
  CFG35_REG = ATTR[`HBM_PHY_MS__CFG35];
  CFG36_REG = ATTR[`HBM_PHY_MS__CFG36];
  CFG37_REG = ATTR[`HBM_PHY_MS__CFG37];
  CFG38_REG = ATTR[`HBM_PHY_MS__CFG38];
  CFG39_REG = ATTR[`HBM_PHY_MS__CFG39];
  CFG3_REG = ATTR[`HBM_PHY_MS__CFG3];
  CFG40_REG = ATTR[`HBM_PHY_MS__CFG40];
  CFG41_REG = ATTR[`HBM_PHY_MS__CFG41];
  CFG42_REG = ATTR[`HBM_PHY_MS__CFG42];
  CFG4_REG = ATTR[`HBM_PHY_MS__CFG4];
  CFG5_REG = ATTR[`HBM_PHY_MS__CFG5];
  CFG6_REG = ATTR[`HBM_PHY_MS__CFG6];
  CFG7_REG = ATTR[`HBM_PHY_MS__CFG7];
  CFG8_REG = ATTR[`HBM_PHY_MS__CFG8];
  CFG9_REG = ATTR[`HBM_PHY_MS__CFG9];
  SIM_MODEL_TYPE_REG = ATTR[`HBM_PHY_MS__SIM_MODEL_TYPE];
end

// procedures to override, read attribute values

task write_attr;
  input  [`HBM_PHY_MS_ADDR_SZ-1:0] addr;
  input  [`HBM_PHY_MS_DATA_SZ-1:0] data;
  begin
    ATTR[addr] = data;
    trig_attr = ~trig_attr; // to be removed
  end
endtask

function [`HBM_PHY_MS_DATA_SZ-1:0] read_attr;
  input  [`HBM_PHY_MS_ADDR_SZ-1:0] addr;
  begin
    read_attr = ATTR[addr];
  end
endfunction

task commit_attr;
  begin
trig_attr = ~trig_attr;
  end
endtask
